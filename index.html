<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy 22nd Birthday</title>
<style>
  :root{
    --bg0:#05060a;
    --bg1:#0b0f1f;
    --ink:#e9e6df;
    --muted:rgba(233,230,223,.72);
    --gold:#d9b86a;
    --gold2:#a9863a;
    --paper:#0f1326;
    --paper2:#0b0f1f;
    --shadow: 0 24px 60px rgba(0,0,0,.65);
    --radius:18px;
  }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    background:
      radial-gradient(1200px 700px at 70% 30%, rgba(217,184,106,.15), transparent 60%),
      radial-gradient(900px 600px at 20% 70%, rgba(120,110,255,.10), transparent 60%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    color:var(--ink);
    font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
    overflow:hidden;
  }

  /* subtle dust */
  .dust{
    position:fixed; inset:0; pointer-events:none; opacity:.55;
    background-image:
      radial-gradient(circle at 10% 20%, rgba(255,255,255,.10) 0 1px, transparent 2px),
      radial-gradient(circle at 90% 30%, rgba(255,255,255,.08) 0 1px, transparent 2px),
      radial-gradient(circle at 30% 80%, rgba(255,255,255,.06) 0 1px, transparent 2px),
      radial-gradient(circle at 70% 75%, rgba(255,255,255,.07) 0 1px, transparent 2px),
      radial-gradient(circle at 55% 45%, rgba(255,255,255,.05) 0 1px, transparent 2px);
    background-size: 280px 280px;
    animation: drift 18s linear infinite;
    filter: blur(.2px);
  }
  @keyframes drift{
    from{ transform: translate3d(0,0,0); }
    to{ transform: translate3d(-280px,-280px,0); }
  }

  .wrap{
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 24px;
  }

  .stage{
    width:min(980px, 96vw);
    height:min(640px, 88vh);
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .header{
    position:absolute;
    top: 14px;
    left: 14px;
    right: 14px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    z-index:50;
  }

  .title{
    display:flex;
    flex-direction:column;
    gap:3px;
    pointer-events:none;
  }
  .title .kicker{
    font-size:12px;
    letter-spacing:.22em;
    text-transform:uppercase;
    color:rgba(217,184,106,.85);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  .title .sub{
    font-size:12px;
    color:var(--muted);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }

  .controls{
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:flex-end;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  button{
    appearance:none;
    border:1px solid rgba(217,184,106,.35);
    background: linear-gradient(180deg, rgba(217,184,106,.14), rgba(169,134,58,.08));
    color:var(--ink);
    padding:10px 14px;
    border-radius: 999px;
    cursor:pointer;
    box-shadow: 0 10px 28px rgba(0,0,0,.35);
    transition: transform .15s ease, border-color .2s ease, opacity .2s ease;
    font-size: 13px;
    letter-spacing:.02em;
    user-select:none;
  }
  button:hover{ transform: translateY(-1px); border-color: rgba(217,184,106,.55); }
  button:active{ transform: translateY(0px); }
  button:disabled{ opacity:.35; cursor:not-allowed; transform:none; }

  .progress{
    font-size:12px;
    color: rgba(233,230,223,.62);
    margin-left: 10px;
    white-space:nowrap;
  }

  .hint{
    position:absolute;
    bottom: 14px;
    left: 14px;
    right: 14px;
    text-align:center;
    color: rgba(233,230,223,.62);
    font-size:12px;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    z-index:50;
    pointer-events:none;
  }

  /* stack of pages (front-only) */
  .deck{
    width:min(920px, 96vw);
    height:min(560px, 78vh);
    position:relative;
    perspective: 1400px;
    filter: drop-shadow(0 30px 60px rgba(0,0,0,.55));
  }

  .page{
    position:absolute;
    inset:0;
    border-radius: var(--radius);
    background:
      radial-gradient(900px 400px at 30% 20%, rgba(217,184,106,.10), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.22)),
      linear-gradient(135deg, var(--paper), var(--paper2));
    border: 1px solid rgba(217,184,106,.22);
    box-shadow: var(--shadow);
    overflow:hidden;
    transform-style:preserve-3d;
    transition: transform 0.95s cubic-bezier(.2,.9,.15,1), opacity 0.65s ease;
  }

  .page::before{
    content:"";
    position:absolute;
    top:0; bottom:0;
    left:0;
    width:22px;
    background: linear-gradient(90deg, rgba(217,184,106,.18), transparent);
    opacity:.75;
    pointer-events:none;
  }

  .content{
    height:100%;
    padding: 44px 56px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    gap: 18px;
    position:relative;
  }

  .sigil{
    position:absolute;
    top: 26px;
    right: 28px;
    width: 44px;
    height: 44px;
    border-radius: 999px;
    border: 1px solid rgba(217,184,106,.35);
    display:grid;
    place-items:center;
    color: rgba(217,184,106,.85);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    letter-spacing:.08em;
    font-size: 12px;
    opacity:.85;
  }

  h1,h2{
    margin:0;
    line-height:1.15;
    font-weight:600;
    letter-spacing:.01em;
    text-shadow: 0 10px 30px rgba(0,0,0,.45);
  }
  h1{ font-size: clamp(30px, 4.3vw, 52px); }
  h2{ font-size: clamp(22px, 3.2vw, 36px); }

  .gold{
    background: linear-gradient(90deg, var(--gold), #f3e1b0, var(--gold2));
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
  }

  p{
    margin:0;
    color: rgba(233,230,223,.86);
    font-size: clamp(14px, 1.45vw, 18px);
    line-height: 1.7;
    white-space: pre-line;
  }
  .small{
    color: rgba(233,230,223,.68);
    font-size: 13px;
    letter-spacing:.08em;
    text-transform:uppercase;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  }
  .divider{
    width: 120px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(217,184,106,.55), transparent);
    margin: 6px 0 2px;
    opacity:.9;
  }

  /* front-only turn animation states */
  .page.is-active{
    transform: translateZ(6px);
    opacity:1;
  }
  .page.is-behind{
    transform: translateZ(0px) scale(.995);
    opacity:1;
    filter: saturate(.98);
  }
  .page.is-past{
    transform: translateX(-110%) rotateY(28deg) rotateZ(-2deg);
    opacity:0;
    pointer-events:none;
  }

  /* tap area */
  .tap{
    position:absolute;
    inset:0;
    border-radius: var(--radius);
    cursor:pointer;
    z-index:40;
    background: transparent;
  }

  /* Typewriter caret */
  .tw{ position:relative; }
  .tw .caret{
    display:inline-block;
    width: .55em;
    color: rgba(217,184,106,.85);
    animation: blink 1s steps(1) infinite;
    margin-left: 2px;
  }
  @keyframes blink{ 50%{ opacity:0; } }

  /* Wax seal overlay */
  .sealOverlay{
    position:absolute;
    inset:0;
    border-radius: var(--radius);
    z-index: 200;
    display:flex;
    align-items:center;
    justify-content:center;
    background:
      radial-gradient(800px 420px at 50% 30%, rgba(0,0,0,.20), rgba(0,0,0,.72)),
      linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.75));
    backdrop-filter: blur(2px);
    transition: opacity .35s ease;
  }
  .sealOverlay.hidden{ opacity:0; pointer-events:none; }

  .sealCard{
    width: min(520px, 86%);
    text-align:center;
    padding: 22px 18px 10px;
    position:relative;
  }
  .sealCard .whisper{
    color: rgba(233,230,223,.70);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    letter-spacing:.18em;
    text-transform:uppercase;
    font-size: 12px;
    margin-bottom: 14px;
  }

  .ribbon{
    position:relative;
    height: 70px;
    margin: 0 auto 6px;
    width: min(420px, 92%);
    filter: drop-shadow(0 18px 24px rgba(0,0,0,.45));
  }
  .ribbon::before,
  .ribbon::after{
    content:"";
    position:absolute;
    top: 18px;
    width: 46%;
    height: 18px;
    background: linear-gradient(180deg, rgba(217,184,106,.32), rgba(169,134,58,.14));
    border: 1px solid rgba(217,184,106,.26);
    border-radius: 12px;
  }
  .ribbon::before{ left:0; transform: skewX(-12deg); }
  .ribbon::after{ right:0; transform: skewX(12deg); }
  .ribbon .knot{
    position:absolute;
    left:50%;
    top: 8px;
    transform: translateX(-50%);
    width: 110px;
    height: 34px;
    border-radius: 999px;
    background: linear-gradient(180deg, rgba(217,184,106,.22), rgba(169,134,58,.10));
    border: 1px solid rgba(217,184,106,.25);
  }

  .waxSeal{
    width: 118px;
    height: 118px;
    margin: 0 auto;
    border-radius: 999px;
    cursor:pointer;
    position:relative;
    background:
      radial-gradient(circle at 30% 28%, rgba(255,255,255,.18), transparent 45%),
      radial-gradient(circle at 60% 70%, rgba(0,0,0,.22), transparent 52%),
      radial-gradient(circle at 50% 50%, rgba(166, 24, 52, .95), rgba(96, 8, 24, .98));
    box-shadow:
      0 26px 60px rgba(0,0,0,.65),
      inset 0 0 0 2px rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.08);
    display:grid;
    place-items:center;
    transition: transform .18s ease;
    user-select:none;
  }
  .waxSeal:hover{ transform: translateY(-1px) scale(1.02); }

  .waxSeal .stamp{
    width: 76px;
    height: 76px;
    border-radius: 999px;
    border: 1px solid rgba(217,184,106,.45);
    box-shadow: inset 0 0 0 2px rgba(0,0,0,.22);
    display:grid;
    place-items:center;
    color: rgba(233,230,223,.88);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    letter-spacing:.14em;
    font-weight: 700;
    background: radial-gradient(circle at 35% 35%, rgba(0,0,0,.08), rgba(0,0,0,.22));
  }

  .sealHint{
    margin-top: 14px;
    color: rgba(233,230,223,.78);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    font-size: 13px;
  }
  .sealHint strong{ color: rgba(217,184,106,.95); font-weight: 700; }

  .sealOverlay.breaking .waxSeal{
    animation: crack .75s cubic-bezier(.2,.9,.2,1) both;
  }
  @keyframes crack{
    0%{ transform: translateY(0) scale(1) rotate(0deg); }
    35%{ transform: translateY(-2px) scale(1.04) rotate(-2deg); }
    70%{ transform: translateY(3px) scale(.98) rotate(3deg); }
    100%{ transform: translateY(40px) scale(.70) rotate(10deg); opacity:0; filter: blur(1px); }
  }
  .sealOverlay.breaking .ribbon{ animation: ribbonSlip .85s ease both; }
  @keyframes ribbonSlip{ to{ transform: translateY(18px); opacity:0; } }

  @media (max-width: 720px){
    .content{ padding: 34px 24px; }
    .page::before{ width: 14px; }
    .sigil{ top:18px; right:18px; width:40px; height:40px; }
  }
</style>
</head>

<body>
<div class="dust"></div>

<div class="wrap">
  <div class="stage">
    <div class="header">
      <div class="title">
        <div class="kicker">A PRIVATE NOTE</div>
        <div class="sub">Tap the page (or use Next). ← / → also works.</div>
      </div>

      <div class="controls">
        <button id="prevBtn" type="button">← Prev</button>
        <button id="nextBtn" type="button">Next →</button>
        <button id="restartBtn" type="button">↺ Restart</button>
        <span class="progress" id="progress"></span>
      </div>
    </div>

    <div class="deck" id="deck">
      <div class="tap" id="tapArea" title="Tap to turn page"></div>

      <!-- Wax seal overlay -->
      <div class="sealOverlay" id="sealOverlay" aria-label="Wax seal overlay">
        <div class="sealCard">
          <div class="whisper">SEALED FOR YOUR EYES ONLY</div>
          <div class="ribbon"><div class="knot"></div></div>
          <div class="waxSeal" id="waxSeal" role="button" aria-label="Break the seal">
            <div class="stamp">N</div>
          </div>
          <div class="sealHint">Tap the wax seal to <strong>break</strong> it.</div>
        </div>
      </div>

      <!-- PAGE 1 -->
      <div class="page" data-page="0">
        <div class="content">
          <div class="sigil">22</div>
          <div class="small">Chapter One</div>
          <div class="divider"></div>
          <h1 class="gold tw" data-tw data-speed="18">Happy 22nd Birthday<span class="caret">▍</span></h1>
          <p class="tw" data-tw data-speed="18">(Tap to continue.)<span class="caret">▍</span></p>
        </div>
      </div>

      <!-- PAGE 2 -->
      <div class="page" data-page="1">
        <div class="content">
          <div class="small">A message, revealed</div>
          <div class="divider"></div>
          <h2 class="gold">Happy Birthday Beautiful!</h2>
          <p class="tw" data-tw data-speed="14">
I cannot believe that lovely girl who I met 3 and a half years ago is 22 (and somehow my girlfriend).
I am so glad I get to spend every day with you and do so many things I have always wanted to do with you.
You have made my heart extremely full and my wallet extremely empty, and I could not be happier for it.
You are truly a one of a kind mix of beauty, sophistication, elegance, and creativity.
Every step you take forward or backwards excites me because I love being by your side.
I love every single thing about you and am so excited to do all of my future with you.
I believe in you so so much, and am so excited to see what you accomplish.
Thank you so much for being my rock and the bright spot of my each and every day.
You are the best thing that could've ever happed to me.

Love,
Nicolas<span class="caret">▍</span>
          </p>
        </div>
      </div>

      <!-- PAGE 3 -->
      <div class="page" data-page="2">
        <div class="content">
          <div class="small">Chapter Two</div>
          <div class="divider"></div>
          <h2 class="gold">Now for your 22nd birthday…</h2>
          <p class="tw" data-tw data-speed="16">
There are a couple surprises in store.
Firstly, think of something that you have loved for a long time, and something that you'd love to see everyday.
Those are the only hints for your gifts.<span class="caret">▍</span>
          </p>
        </div>
      </div>

      <!-- PAGE 4 -->
      <div class="page" data-page="3">
        <div class="content">
          <div class="small">Friday • February 20</div>
          <div class="divider"></div>
          <h2 class="gold">Your presence is requested</h2>
          <p class="tw" data-tw data-speed="14">
For February 20th, Nicolas Andreano is requesting your presence at 11 am CST for the beginning of the celebration.
He requests you bring only yourself and nothing more. Don't worry there will be pictures (This is not a proposal).
You will be escorted by your chauffeur promptly and this will kickstart a lovely weekend.
Then comes Emmy.
Later that night you shall be treated to a lovely birthday homecooked steak dinner with a phenomenal homemade Pinot Noir to go with your entree.<span class="caret">▍</span>
          </p>
        </div>
      </div>

      <!-- PAGE 5 -->
      <div class="page" data-page="4">
        <div class="content">
          <div class="small">Saturday • February 21</div>
          <div class="divider"></div>
          <h2 class="gold">A rooftop interlude</h2>
          <p class="tw" data-tw data-speed="16">
Next on Saturday February 21st, there will be a nice quaint gathering at a certain rooftop bar.
Please do not book a workout class on Sunday as there will be plenty of enjoyment.
I also recommend eating before, as fries are the only good thing at said rooftop bar.
This event will take place circa 6:30-7 pm.<span class="caret">▍</span>
          </p>
        </div>
      </div>

      <!-- PAGE 6 -->
      <div class="page" data-page="5">
        <div class="content">
          <div class="small">Sunday</div>
          <div class="divider"></div>
          <h2 class="gold">One last trick</h2>
          <p class="tw" data-tw data-speed="16">
Finally on Sunday, I have another trick up my sleeve, but you will just have to wait and see for that one.

Please RSVP to nickmandre@gmail.com if you plan on attending these festivities and celebrating the birthday of a wonderful young lady.<span class="caret">▍</span>
          </p>
        </div>
      </div>

    </div>

    <div class="hint">Tip: restart anytime • typewriter replays when you return to a page</div>
  </div>
</div>

<script>
(() => {
  const pages = Array.from(document.querySelectorAll(".page"));
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const restartBtn = document.getElementById("restartBtn");
  const tapArea = document.getElementById("tapArea");
  const progress = document.getElementById("progress");

  const sealOverlay = document.getElementById("sealOverlay");
  const waxSeal = document.getElementById("waxSeal");

  let unlocked = false;
  let index = 0;
  let isAnimating = false;

  // --- Typewriter prep ---
  const twEls = Array.from(document.querySelectorAll("[data-tw]"));
  twEls.forEach(el => {
    const caret = el.querySelector(".caret");
    const caretHtml = caret ? caret.outerHTML : '<span class="caret">▍</span>';
    const raw = (el.innerText || "").replace("▍","").trimEnd();
    el.dataset.twText = raw;
    el.dataset.twCaret = caretHtml;
    el.dataset.twSpeed = el.dataset.speed || "16";
  });

  let timers = [];
  function stopTyping(){
    timers.forEach(t => clearTimeout(t));
    timers = [];
  }
  function escapeHtml(s){
    return s
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  function typePage(i){
    stopTyping();
    const page = pages[i];
    if (!page) return;
    const els = Array.from(page.querySelectorAll("[data-tw]"));

    let chainDelay = 0;
    els.forEach(el => {
      const full = el.dataset.twText || "";
      const speed = Math.max(8, Number(el.dataset.twSpeed || 16));
      const caretHtml = el.dataset.twCaret || "";

      const start = () => {
        el.innerHTML = "";
        let c = 0;

        const tick = () => {
          const shown = full.slice(0, c);
          el.innerHTML = escapeHtml(shown).replaceAll("\n","<br>") + caretHtml;
          c++;
          if (c <= full.length){
            timers.push(setTimeout(tick, speed));
          } else {
            timers.push(setTimeout(() => {
              el.innerHTML = escapeHtml(full).replaceAll("\n","<br>");
            }, 350));
          }
        };
        tick();
      };

      timers.push(setTimeout(start, chainDelay));
      chainDelay += Math.min(1200, full.length * speed * 0.22);
    });
  }

  function render(animateTyping=true){
    pages.forEach((p, i) => {
      p.style.zIndex = String(200 - i); // stable stacking
      p.classList.remove("is-active","is-behind","is-past");

      if (i < index) p.classList.add("is-past");
      else if (i === index) p.classList.add("is-active");
      else p.classList.add("is-behind");
    });

    prevBtn.disabled = !unlocked || index === 0 || isAnimating;
    nextBtn.disabled = !unlocked || index === pages.length - 1 || isAnimating;
    restartBtn.disabled = !unlocked || isAnimating;

    progress.textContent = unlocked ? `Page ${index + 1} / ${pages.length}` : "Sealed";

    if (unlocked && animateTyping){
      setTimeout(() => typePage(index), 160);
    }
  }

  function cooldown(){
    isAnimating = true;
    render(false);
    setTimeout(() => { isAnimating = false; render(true); }, 950);
  }

  function next(){
    if (!unlocked || isAnimating) return;
    if (index < pages.length - 1){
      index++;
      cooldown();
    }
  }

  function prev(){
    if (!unlocked || isAnimating) return;
    if (index > 0){
      index--;
      cooldown();
    }
  }

  function restart(){
    if (!unlocked || isAnimating) return;
    index = 0;
    cooldown();
  }

  nextBtn.addEventListener("click", (e)=>{ e.stopPropagation(); next(); });
  prevBtn.addEventListener("click", (e)=>{ e.stopPropagation(); prev(); });
  restartBtn.addEventListener("click", (e)=>{ e.stopPropagation(); restart(); });
  tapArea.addEventListener("click", next);

  window.addEventListener("keydown", (e)=>{
    if (!unlocked) return;
    if (e.key === "ArrowRight") next();
    if (e.key === "ArrowLeft") prev();
    if (e.key.toLowerCase() === "r") restart();
  });

  waxSeal.addEventListener("click", () => {
    if (unlocked) return;
    sealOverlay.classList.add("breaking");
    setTimeout(() => {
      sealOverlay.classList.add("hidden");
      unlocked = true;
      render(true);
    }, 650);
  });

  render(false);
})();
</script>
</body>
</html>
